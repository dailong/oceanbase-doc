# 删除 OBProxy

您可以根据业务需要，使用 OCP 或 OBD 将不再使用的 OBProxy 删除。

您可以删除单个/多个 OBProxy，也可以删除 OBProxy 集群。有关删除 OBProxy 集群的操作方法，请参见 [删除 OBProxy 集群](../2.manage-the-obproxy-cluster/3.delete-the-OBProxy-cluster.md)。

## 前提条件

请确保该 OBProxy 已经没有业务连接。

## 使用 OCP 删除 OBProxy

1. 登录 OCP。

2. 在左侧导航栏单击 **OBProxy** 。

3. 在集群列表中选择需要操作的 OBProxy 集群，进入 OBProxy 集群 **总览** 页面。

4. 进行如下操作：

   * 在 **OBProxy 列表** 中，找到待删除的 OBProxy，在对应的 **操作** 列中，单击 ... 图标，选择 **删除** ，并在弹出的对话框中再次单击 **删除** ，可以删除单个 OBProxy。

      ![删除 OBProxy](http://icms-x-dita.oss-cn-zhangjiakou.aliyuncs.com/xdita-output/zh-CN/task15904357/images/p204480.png?Expires=7258125492&OSSAccessKeyId=LTAIJfoPL6wmrirR&Signature=acrTYsqwvdsW91LX5ltzKQXTWro%3D)

   * 在 **OBProxy 列表** 中，选择多个 OBProxy ，在列表右上方单击 ... 图标，选择 **批量删除** ，并在弹出的对话框中再次单击 删除，可以同时删除多个 OBProxy。

      ![批量删除](http://icms-x-dita.oss-cn-zhangjiakou.aliyuncs.com/xdita-output/zh-CN/task15904357/images/p204485.png?Expires=7258125492&OSSAccessKeyId=LTAIJfoPL6wmrirR&Signature=qLwyEVRp4XGEU9IJ9EniqbFGcM0%3D)

5. 在弹出框中选择 **删除** 。

## 使用 OBD 删除 OBProxy

1. 登录到 OBD 所在机器的操作用户下，执行如下命令停止待删除的 OBProxy:

   ```bash
   obd cluster stop <deploy_name> -s <server_name>
   ```

   其中，`deploy_name` 为所需删除的 OBProxy 所在的集群名，`server_name` 为 OBProxy 所在机器名，即 `servers` 模块下 `- name:` 所对应的名字，用户可自定义。

2. 在配置文件中将停止的 OBProxy 对应的信息删除。

3. 执行如下命令查看集群信息：

   ```bash
   obd cluster display <deploy_name>
   ```

   若输出的结果中已无待删除的 OBProxy 信息，表示删除成功。

> **说明**
>
> 上述命令中使用的到 OBD 命令，详细信息可参考 [集群命令组](https://open.oceanbase.com/docs/obd-cn/V1.3.3/10000000000182177)。
