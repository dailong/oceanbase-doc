# 删除 OBProxy

您可以根据业务需要，在 OCP 上将不再使用的 OBProxy 删除。

您可以删除单个/多个 OBProxy，也可以删除 OBProxy 集群。有关删除 OBProxy 集群的操作方法，请参见 [删除 OBProxy 集群](../2.manage-the-obproxy-cluster/3.delete-the-OBProxy-cluster.md)。

## 前提条件

请确保该 OBProxy 已经没有业务连接。

## 通过 OCP 删除 OBProxy

1. 登录 OCP。

2. 在左侧导航栏单击 **OBProxy** 。

3. 在集群列表中选择需要操作的 OBProxy 集群，进入 OBProxy 集群 **总览** 页面。

4. 进行如下操作：

   * 在 **OBProxy 列表** 中，找到待删除的 OBProxy，在对应的 **操作** 列中，单击 ... 图标，选择 **删除** ，并在弹出的对话框中再次单击 **删除** ，可以删除单个 OBProxy。![删除 OBProxy](http://icms-x-dita.oss-cn-zhangjiakou.aliyuncs.com/xdita-output/zh-CN/task15904357/images/p204480.png?Expires=7258125492&OSSAccessKeyId=LTAIJfoPL6wmrirR&Signature=acrTYsqwvdsW91LX5ltzKQXTWro%3D)

   * 在 **OBProxy 列表** 中，选择多个 OBProxy ，在列表右上方单击 ... 图标，选择 **批量删除** ，并在弹出的对话框中再次单击 删除，可以同时删除多个 OBProxy。![批量删除](http://icms-x-dita.oss-cn-zhangjiakou.aliyuncs.com/xdita-output/zh-CN/task15904357/images/p204485.png?Expires=7258125492&OSSAccessKeyId=LTAIJfoPL6wmrirR&Signature=qLwyEVRp4XGEU9IJ9EniqbFGcM0%3D)

5. 在弹出框中选择 **删除** 。

## 通过命令删除 OBProxy

1. 登录 OBProxy 所在的机器使用以下命令查看 obproxy 进程的进程号。

   ```bash
   [admin@test obproxy-3.2.3]$ ps -ef | grep obproxy
   admin    13195     1  1 15:05 ?        00:00:08 ./bin/obproxy -r172.31.122.23:2881;172.31.122.24:2881;172.31.122.25:2881 -p2883 -n test1 -c test
   admin    22673 18066  0 15:13 pts/0    00:00:00 grep --color=auto obproxy
   ```

2. 执行如下命令，根据查询到的进程号，停止 obproxy 进程

   ```bash
   kill -9 13195
   ```

3. 成功停止后，再次执行以下命令，确认 obproxy 是否已不存在。

   ```bash
   ps -ef | grep obproxy
   admin    24164 18066  0 15:15 pts/0    00:00:00 grep --color=auto obproxy
   ```

4. 执行以下命令查看存在的 OBProxy 包

   ```bash
   [admin@test rpm]$ rpm -qa | grep obproxy
   obproxy-ce-3.2.3-2.el7.x86_64
   ```

5. 执行如下命令删除对应的 OBProxy 包

   ```bash
   sudo rpm -e obproxy-ce-3.2.3-2.el7.x86_64
   ```
